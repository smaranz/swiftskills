---
name: MACOS App and Environment
description: Rork-Max Quality skill for MACOS App and Environment. Platform-native patterns and best practices for macos development.
---

# MACOS App and Environment

Learn about the objects that you use to interact with the system.

## ðŸš€ Rork-Max Quality Snippet

```swift
import AppKit

@main
class AppDelegate: NSObject, NSApplicationDelegate {
    func applicationDidFinishLaunching(_ notification: Notification) {
        NSApp.appearance = NSAppearance(named: .aqua)
    }

    func applicationShouldTerminateAfterLastWindowClosed(_ sender: NSApplication) -> Bool {
        false  // macOS apps typically stay running without windows
    }

    func applicationSupportsSecureRestorableState(_ app: NSApplication) -> Bool {
        true
    }
}
```

## ðŸ’Ž Elite Implementation Tips

- Return `false` from `applicationShouldTerminateAfterLastWindowClosed` â€” macOS convention
- Use `NSApplication.shared.appearance` for app-wide appearance control
- Support state restoration with `applicationSupportsSecureRestorableState`

## When to Use

- Building native macOS features with AppKit
- Implementing menu bar items, dock menus, and macOS-specific UI
- Working with NSWindow, NSViewController, and AppKit patterns

## Best Practices

- Support keyboard shortcuts and menu bar commands for every major action
- Use NSToolbar for window-level controls; avoid floating toolbars
- Support trackpad gestures and the Magic Mouse for natural interactions

## Common Pitfalls

- Ignoring the menu bar â€” macOS users expect all actions available via menus
- Not testing with multiple windows open simultaneously
- Forgetting to handle the app running without any windows (macOS apps don't quit on last window close)

## Key APIs

### Life Cycle

| API | Purpose |
|-----|---------|
| `NSApplication` | An object that manages an appâ€™s main event loop and resources used by all of that appâ€™s objects. |
| `NSRunningApplication` | An object that can manipulate and provide information for a single instance of an app. |
| `NSApplicationDelegate` | A set of methods that manage your appâ€™s life cycle and its interaction with common system services. |
| `NSApplicationMain` | Called by the main function to create and run the application. |
| `NSApplicationMain(_:_:)` | Called by the main function to create and run the application. |

### Environment

| API | Purpose |
|-----|---------|
| `NSWorkspace` | A workspace that can launch other apps and perform a variety of file-handling services. |
| `NSWorkspace.OpenConfiguration` | The configuration options for opening URLs or launching apps. |
| `NSAppKitVersion` | Constants for determining which version of AppKit is available. |

### Handoff

| API | Purpose |
|-----|---------|
| `NSUserActivityRestoring` | A protocol that marks classes to restore the state of your app to continue a user activity. |

### App Services

| API | Purpose |
|-----|---------|
| `NSSharingService` | An object that facilitates the sharing of content with social media services, or with apps like Mail or Safari. |
| `NSSharingServicePicker` | A list of sharing services that the user can choose from. |
| `NSPreviewRepresentableActivityItem` | An interface you adopt in custom objects that you want to share using the macOS share sheet. |
| `NSSharingServicePickerToolbarItem` | A toolbar item that displays the macOS share sheet. |
| `NSServicesMenuRequestor` | A set of methods that support interaction with items users can share through a sharing service. |
| `NSCloudSharingServiceDelegate` | A set of methods for responding to the life cycle events of the cloud-sharing service. |
| `Services Functions` | Configure the contents of your appâ€™s Services menu. |

### App Help

| API | Purpose |
|-----|---------|
| `NSHelpManager` | An object for displaying online help for an app. |
| `NSUserInterfaceItemSearching` | A set of methods an app can implement to provide Spotlight for Help for its own custom help data. |

### Errors

| API | Purpose |
|-----|---------|
| `AppKit Errors` | These constants represent errors generated by AppKit. |
